{% extends "layout.html" %}

{% block page_title %}Bankalar{% endblock %}

{% block content %}
<style>
.banka-header {
    background: #0f2537;
    padding: 12px;
    margin: -10px -10px 10px -10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.banka-header h2 {
    color: #4fc3f7;
    margin: 0;
    font-size: 16px;
}
.banka-buttons button {
    background: #00bcd4;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 3px;
    cursor: pointer;
    font-size: 13px;
    margin-left: 8px;
}
.banka-grid {
    width: 100%;
    background: #243447;
    border-collapse: collapse;
    font-size: 12px;
}
.banka-grid th {
    background: #0097a7;
    color: white;
    padding: 8px;
    text-align: left;
    font-size: 11px;
}
.banka-grid td {
    padding: 8px;
    border-bottom: 1px solid #2d4060;
    color: #e0f7fa;
}
.banka-grid tr:hover {
    background: #2d4060;
    cursor: pointer;
}
</style>

<div class="banka-header">
    <h2>ğŸ¦ Banka HesaplarÄ±</h2>
    <div class="banka-buttons">
        <button onclick="yeniBanka()">â• Yeni Hesap</button>
        <button onclick="excelYukle()">ğŸ“‚ Excel'den Aktar</button>
        <button onclick="yenile()">â†º Yenile</button>
    </div>
</div>

<div style="overflow: auto; max-height: 600px;">
    <table class="banka-grid">
        <thead>
            <tr>
                <th>Banka AdÄ±</th>
                <th>Hesap No</th>
                <th>IBAN</th>
                <th>Åube</th>
                <th>Bakiye (â‚º)</th>
                <th>Durum</th>
                <th>Ä°ÅŸlem</th>
            </tr>
        </thead>
        <tbody>
            {% if bankalar %}
                {% for b in bankalar %}
                <tr onclick="selectBanka({{ b.id }})">
                    <td><strong>{{ b.banka_adi }}</strong></td>
                    <td>{{ b.hesap_no }}</td>
                    <td>{{ b.iban }}</td>
                    <td>{{ b.sube }}</td>
                    <td style="text-align: right;">{{ '%.2f'|format(b.bakiye or 0) }}</td>
                    <td>{% if b.is_active %}ğŸŸ¢ Aktif{% else %}ğŸ”´ Pasif{% endif %}</td>
                    <td>
                        <button onclick="duzenle({{ b.id }})" style="background: #00bcd4; color: white; border: none; padding: 4px 8px; border-radius: 3px; font-size: 11px;">âœï¸ DÃ¼zenle</button>
                    </td>
                </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="7" style="text-align: center; padding: 40px; color: #6b7280;">
                        HenÃ¼z banka hesabÄ± yok
                    </td>
                </tr>
            {% endif %}
        </tbody>
    </table>
</div>

<script>
function yeniBanka() {
    window.location.href = "{{ url_for('banka.yeni') }}";
}

function excelYukle() {
    alert('Excel yÃ¼kleme Ã¶zelliÄŸi yakÄ±nda!');
}

function yenile() {
    location.reload();
}

function selectBanka(id) {
    console.log('SeÃ§ili banka:', id);
}

function duzenle(id) {
    window.location.href = `/bankalar/${id}/duzenle`;
}
</script>
{% endblock %}